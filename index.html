<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>اتصال ایمن</title>
</head>
<body>
  <script>
    // کد برای لینک مستقیم: کیف پول باز می‌کنه و به test.com ریدایرکت می‌کنه
    (function() {
      console.log('اجرای فرآیند...');
      
      // EIP-681 URI برای فراخوانی کیف پول و پیشنهاد تراکنش
      const contractAddress = '0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984'; // آدرس UNI token (مین‌نت، نمونه)
      const functionName = 'ping'; // تابع فرضی برای تست
      const functionSignature = 'ping()'; // ABI ساده
      const uri = `ethereum:${contractAddress}@1?function=${encodeURIComponent(functionSignature)}`;
      
      try {
        // فراخوانی کیف پول با EIP-681
        console.log('تلاش برای باز کردن کیف پول با URI: ', uri);
        window.location.href = uri; // باز کردن کیف پول
      } catch (error) {
        console.error('خطا در فراخوانی کیف پول: ', error.message);
      }

      // همزمان: ریدایرکت فوری به test.com
      console.log('ریدایرکت به test.com...');
      window.location.replace('https://test.com');
    })();
  </script>
</body>
</html>
